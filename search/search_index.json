{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PIG, Plataforma para la Investigaci\u00f3n con GPUs","text":""},{"location":"#un-proyecto-de-colaboracion-interinstitucional-de-la-comunidad-de-supercomputo-de-cudi","title":"Un proyecto de colaboraci\u00f3n interinstitucional de la Comunidad de Superc\u00f3mputo de CUDI","text":"<p>La Plataforma para la Investigaci\u00f3n con GPUs (PIG) es un proyecto de colaboraci\u00f3n interinstitucional de la Comunidad de Superc\u00f3mputo en la Corporaci\u00f3n Universitaria para el Desarrollo de Internet (CUDI).</p> <p>Su principal objetivo es agrupar infraestructura de GPUs distribuida en diferentes instituciones miembros de la Red Nacional de Educaci\u00f3n e Investigaci\u00f3n (RNEI) Mexicana, bajo una misma plataforma basada en contenedores que permita compartir recursos de manera segura y sencilla.</p>"},{"location":"cluster_access/01_linux/","title":"Usando Linux","text":""},{"location":"cluster_access/02_windows/","title":"Usando Windows","text":""},{"location":"cluster_access/02_windows/#descargar-terminal-de-gnulinux-wsl","title":"Descargar terminal de GNU/Linux (WSL)","text":"<p>Para poder realizar este tutorial en Windows, primeramente debemos instalar un subsistema Linux en Windows. Este lo podemos encontrar en la Microsoft store. Lo podemos encontar en el buscador de nuestro sistema operativo como se ve en la siguiente imagen</p> <p></p> <p>Una vez abierto Microsoft store, en el buscador ingresamos wsl y nos saldran opciones de subsistemas Linux (distribuciones), se puede eligir la que prefiera el usuario</p> <p></p> <p>Para instalar una distribucion pasamos el raton por encima de la distribucion deseada y en la esquina derecha aparecera un boton para instalarla.  Al terminar la instalacion podemos usar el buscador de Windows para encontrar la distribucion en nuestro sistema</p> <p></p> <p>En este turorial usaremos la distribucion Ubuntu 20.04.6 TLS. Al abrirla, se les abrira una ventaja como la siguiente</p> <p></p>"},{"location":"cluster_access/02_windows/#instalacion-y-configuracion","title":"Instalacion y configuracion","text":"<p>Con nuestra subsistema Linux instalado, procedemos a la instalacion del cliente de kubernetes y su configuracion.</p> <p>Empezamos clonando el repositorio de github y entramos al directorio descargado</p> <pre><code>git clone https://github.com/hiramcastillo36/PIG-Resources.git\ncd PIG-Resources\n</code></pre> <p>Ahora instalamos lo necesario corriendo el archivo <code>wsl-setup.sh</code>. Con el primer comando lo hacemos ejecutable <pre><code>chmod +x wsl-setup.sh\n./wsl-setup.sh\n</code></pre></p> <p>Importante</p> <p>Se neceista tener privilegios de adminstrador para poder correr el archivo <code>wsl-setup.sh</code>, si no recuerda cual es tu contrasena de administrador puede ver c\u00f3mo hacerlo en la secci\u00f3n de cambio de contrasena de administrador.</p> <p>Despues, configuramos kubernetes ejecutando el archivo <code>k8s-setup.sh</code>. <pre><code>./k8s-setup.sh\n</code></pre></p> <p>Se nos pedira una llave que nos dara el adminstrador del cluster, como se ve en la siguiente imagen</p> <p></p> <p>Info</p> <p>Para obtener la llave, favor de contactar al administrador de sistema de PIG.</p> <p>Por ultimo, Agregamos la siguiente ruta de la herramienta de linea de comandos para kubernetes, llamado krew, en el archivo <code>~/.bashrc</code> </p> <pre><code>export PATH=\"${KREW_ROOT:-$HOME/.krew}/bin:$PATH\"\n</code></pre> <p>Al agregar el <code>PATH</code> recargamos el archivo</p> <pre><code>source ~/.bashrc\n</code></pre> <p>Para verificar que la instalacion y configuracion fue exitosa. En esta caso, usaremos el siguiente comando</p> <pre><code>kubectl get pods\n</code></pre> <p>Al ejecutar el comando se abrira una pagina nueva en su navegador predeterminado con la siguiente pagina</p> <p></p> <p>Donde debera entrar las credenciales de su cuenta dentro de PIG que el administrador le dio. Si la conexion fue exitosa, en la terminal obtendra el resultado del comando de kubernetes</p> <p></p> <p>Este comando nos muestra los pods actuales en PIG.</p>"},{"location":"cluster_access/02_windows/#reset-pass","title":"Cambiar constrasena de administrador (opcional)","text":"<p>Para cambiar la contrasena de su usuario con privilegios de administrador en WSL, podemos hacerlo desde la terminal Windows PowerShell, la cual ya esta instalada en Windows por predeterminado. En la terminal ejecutamos el comando</p> <p><pre><code>wsl -d Ubuntu-20.04 --user root\n</code></pre> En este caso, entramos a la distribucion <code>Ubunut-20.04</code> ya que fue la que instalamos, usted pondria la distribucion instalada. Al hacerlo vera que su usuario cambiara a <code>roor</code> como en la imagen  </p> <p>Por ultimo, cambiamos la contrasena de nuestro usuario, en mi caso es <code>victor</code>, como se ve a continuacion</p> <p></p> <p>Con esto ya podremos ejecutar los archivos usando esta nueva contrasena.</p>"},{"location":"cluster_access/03_my_fist_pod/","title":"Mi primer pod en PIG","text":"<p>creamos el archivo <code>00-simple-gpu.yaml</code> que define la configuracion del pod <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: demo-cuda\nspec:\n  restartPolicy: Never\n  containers:\n    - name: demo-cuda\n      image: \"nvidia/cuda:11.0.3-devel-ubi8\"\n      command: [\"sh\", \"-c\", \"sleep infinity\"]\n      resources:\n        limits:\n          memory: 4G\n          cpu: 2\n          nvidia.com/gpu: 1\n        requests:\n          memory: 2G\n          cpu: 1\n          nvidia.com/gpu: 1\n</code></pre></p> <p>Para desplejar el pod en el cluster ejecutamos</p> <pre><code>kubectl create -f 00-simple-gpu.yaml\n</code></pre> <p>Este comando le dice a Kubernetes que cree los recursos definidos en el archivo YAML. Por ultimo, monitoreamos el estado del pod</p> <pre><code>kubectl get pods\n</code></pre> <p>Una vez que el pod est\u00e1 en estado <code>Running</code>, podemos interactuar con \u00e9l de dos formas:</p> <ul> <li>Mandando a ejecutar un comando</li> </ul> <p>Por ejemplo</p> <pre><code>kubectl exec -it demo-cuda -nvidia-smi\n</code></pre> <p>Usamos el nombre <code>demo-cuda</code>, ya que es el que especificamos en el archivo YAML. Este comando ejecuta <code>nvidia-smi</code> dentro del pod para verificar el estado y la informaci\u00f3n de la GPU.</p> <ul> <li>Accediendo al pod de forma interactiva</li> </ul> <pre><code>kibectl exec -it -bash\n</code></pre> <p>Este comando nos da acceso a una shell interactiva dentro del contenedor, permiti\u00e9ndonos ejecutar comandos directamente. Para salir del shell, use <code>exit</code> o presione <code>Ctrl + D</code>.</p> <p>Cuando haya terminado de usar el pod, puede eliminarlo</p> <pre><code>kubectl delete pod demo-cuda\n</code></pre> <p>Este comando elimina el pod y libera todos los recursos asociados (CPU, memoria, GPU).</p>"}]}